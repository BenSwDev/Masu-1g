# ⭐ בדיקות OPERATOR - ניהול ביקורות

## 🎯 מטרת הבדיקה
וידוא שמערכת ניהול הביקורות עובדת תקין ומאפשרת לאדמין לנהל ביקורות לקוחות ותגובות מטפלים.

## 📍 נתיב הגישה
`/dashboard/admin/reviews`

## 🔐 בדיקות הרשאות

### 1.1 גישה מנהל בלבד
**פעולה**: נווט לדף עם משתמש מנהל
**תוצאה צפויה**: גישה מלאה לכל הביקורות

### 1.2 חסימת גישה לא-מנהל
**פעולה**: נסה גישה עם משתמש רגיל/מטפל
**תוצאה צפויה**: הפניה או שגיאה 403

## 📊 בדיקות תצוגת נתונים

### 2.1 טעינת רשימת ביקורות
**פעולה**: טען את הדף
**תוצאה צפויה**:
```
✅ רשימת ביקורות מוצגת
✅ כל ביקורת כוללת: דירוג, לקוח, מטפל, טיפול, תאריך
✅ Pagination עובד
✅ מיון לפי תאריך (חדש לישן)
```

### 2.2 פרטי ביקורת מפורטים
**פעולה**: לחץ על ביקורת לצפייה בפרטים
**תוצאה צפויה**:
```
✅ פרטי לקוח מלאים
✅ פרטי מטפל וטיפול
✅ דירוג (1-5 כוכבים)
✅ תגובה טקסטואלית של הלקוח
✅ תגובת המטפל (אם קיימת)
✅ מספר הזמנה המקושרת
```

### 2.3 סטטיסטיקות ביקורות
**פעולה**: בדוק הצגת סטטיסטיקות כלליות
**תוצאה צפויה**:
```
✅ סה"כ ביקורות
✅ דירוג ממוצע כולל
✅ התפלגות דירוגים (1-5)
✅ אחוז ביקורות עם תגובת מטפל
✅ אחוז ביקורות ללא תגובה
```

## 🔍 בדיקות מסננים וחיפוש

### 3.1 מסנן לפי דירוג
**פעולה**: 
1. בחר דירוג ספציפי (1-5)
2. וודא שמוצגות רק ביקורות עם דירוג זה

**תוצאה צפויה**: מסנן עובד ומציג תוצאות נכונות

### 3.2 מסנן לפי מטפל
**פעולה**:
1. בחר מטפל ספציפי מהרשימה
2. וודא שמוצגות רק ביקורות של מטפל זה

**תוצאה צפויה**: רק ביקורות המטפל הנבחר מוצגות

### 3.3 מסנן לפי סוג טיפול
**פעולה**:
1. בחר סוג טיפול מהרשימה
2. וודא שמוצגות רק ביקורות לטיפול זה

**תוצאה צפויה**: מסנן עובד נכון

### 3.4 מסנן תגובות מטפלים
**פעולה**:
1. בחר "עם תגובה" - וודא שמוצגות רק ביקורות עם תגובת מטפל
2. בחר "ללא תגובה" - וודא שמוצגות רק ביקורות ללא תגובה

**תוצאה צפויה**: מסנן עובד בשני הכיוונים

### 3.5 חיפוש חופשי
**פעולה**:
1. חפש טקסט בתוכן הביקורת
2. חפש טקסט בתגובת מטפל
3. חפש שם לקוח

**תוצאה צפויה**: חיפוש מחזיר תוצאות רלוונטיות

## ✏️ בדיקות ניהול תגובות מטפלים

### 4.1 הוספת תגובת מטפל
**פעולה**:
1. בחר ביקורת ללא תגובה
2. לחץ "הוסף תגובה" או "ערוך"
3. הזן תגובה מטעם המטפל
4. שמור

**תוצאה צפויה**:
```
✅ תגובה נשמרת בהצלחה
✅ הודעת אישור מוצגת
✅ התגובה מוצגת בביקורת
✅ סטטיסטיקות מתעדכנות
```

### 4.2 עריכת תגובת מטפל קיימת
**פעולה**:
1. בחר ביקורת עם תגובה קיימת
2. ערוך את התגובה
3. שמור שינויים

**תוצאה צפויה**: שינויים נשמרים ומוצגים

### 4.3 מחיקת תגובת מטפל
**פעולה**:
1. בחר ביקורת עם תגובה
2. לחץ "מחק תגובה"
3. אשר מחיקה

**תוצאה צפויה**:
```
✅ אזהרה לפני מחיקה
✅ תגובה נמחקת
✅ ביקורת חוזרת לסטטוס "ללא תגובה"
```

### 4.4 בדיקת Validation תגובות
**פעולה**: נסה לשמור תגובה ריקה או ארוכה מדי
**תוצאה צפויה**:
```
✅ תגובה ריקה - הודעת שגיאה
✅ תגובה ארוכה מ-1000 תווים - הודעת שגיאה
✅ הודעות שגיאה בעברית וברורות
```

## 🗑️ בדיקות מחיקת ביקורות (מקרי חירום)

### 5.1 מחיקת ביקורת בודדת
**פעולה**:
1. בחר ביקורת לבדיקה (לא אמיתית!)
2. לחץ "מחק ביקורת"
3. אשר מחיקה

**תוצאה צפויה**:
```
✅ אזהרה חמורה לפני מחיקה
✅ דרישה לאישור כפול
✅ סיבת מחיקה נדרשת
✅ ביקורת נמחקת סופית
```

**⚠️ הערה**: מחיקת ביקות צריכה להיות פעולה נדירה בלבד!

## 📊 בדיקות דיווח וסטטיסטיקות

### 6.1 דוח ביקורות לתקופה
**פעולה**:
1. בחר טווח תאריכים
2. צור דוח ביקורות

**תוצאה צפויה**:
```
✅ דוח כולל סטטיסטיקות מדויקות
✅ דירוג ממוצע לתקופה
✅ מספר ביקורות לתקופה
✅ השוואה לתקופה קודמת
```

### 6.2 דוח ביקורות לפי מטפל
**פעולה**: צור דוח לביצועי מטפל ספציפי
**תוצאה צפויה**:
```
✅ דירוג ממוצע המטפל
✅ מספר ביקורות שקיבל
✅ אחוז תגובות שנתן
✅ השוואה למטפלים אחרים
```

### 6.3 ייצוא נתוני ביקורות
**פעולה**:
1. החל מסננים
2. ייצא ל-Excel/CSV

**תוצאה צפויה**: קובץ מתקבל עם הנתונים המסוננים

## 🔔 בדיקות התראות ואוטומציה

### 7.1 התראות על ביקורות ללא תגובה
**פעולה**: בדוק אם המערכת מתריעה על ביקורות ישנות ללא תגובה
**תוצאה צפויה**: רשימת ביקורות הדורשות תשומת לב

### 7.2 התראות על ביקורות נמוכות
**פעולה**: בדוק אם יש התראה על ביקורות עם דירוג נמוך (1-2)
**תוצאה צפויה**: ביקורות נמוכות מסומנות בצבע אדום

### 7.3 שליחת תזכורות למטפלים
**פעולה**: שלח תזכורת למטפל להגיב על ביקורת
**תוצאה צפויה**: הודעה נשלחת למטפל

## 📱 בדיקות רספונסיביות

### 8.1 תצוגה במכשירים שונים
**פעולה**: בדוק בDesktop/Tablet/Mobile
**תוצאה צפויה**:
```
✅ טבלה מתכווצת במובייל
✅ כוכבי דירוג נראים טוב
✅ כפתורי עריכה נגישים
✅ מסננים עובדים בכל המסכים
```

## ⚠️ בדיקות שגיאות

### 9.1 שגיאות validation
**פעולה**: נסה לשמור נתונים לא תקינים
**תוצאה צפויה**: הודעות שגיאה ברורות בעברית

### 9.2 שגיאות רשת
**פעולה**: נתק אינטרנט ונסה פעולות
**תוצאה צפויה**: הודעות שגיאה מתאימות ואפשרות לנסות שוב

### 9.3 הרשאות חסרות
**פעולה**: נסה פעולות עם משתמש ללא הרשאות
**תוצאה צפויה**: חסימה והודעה מתאימה

## 🎨 בדיקות UI/UX

### 10.1 תצוגת דירוגים
**פעולה**: וודא שכוכבי הדירוג נראים טוב
**תוצאה צפויה**:
```
✅ כוכבים מלאים לדירוג שניתן
✅ כוכבים ריקים למה שלא דורג
✅ צבעים ברורים (זהוב למלא, אפור לריק)
```

### 10.2 תצוגת תגובות ארוכות
**פעולה**: בדוק תצוגה של תגובות ארוכות
**תוצאה צפויה**:
```
✅ טקסט ארוך מתקפל עם "קרא עוד"
✅ אין גלישה אופקית
✅ קריאות טובה
```

## ✅ דוח בדיקות - טמפלט

```
⭐ REVIEWS ADMIN - דוח בדיקות

📅 תאריך: ___________
👤 בודק: ___________
🌐 דפדפן: ___________

=== בדיקות הרשאות ===
[ ] גישה מנהל בלבד
[ ] חסימת גישה לא-מנהל

=== תצוגת נתונים ===
[ ] טעינת רשימת ביקורות
[ ] פרטי ביקורת מפורטים
[ ] סטטיסטיקות ביקורות

=== מסננים וחיפוש ===
[ ] מסנן דירוג
[ ] מסנן מטפל
[ ] מסנן סוג טיפול
[ ] מסנן תגובות מטפלים
[ ] חיפוש חופשי

=== ניהול תגובות ===
[ ] הוספת תגובת מטפל
[ ] עריכת תגובה קיימת
[ ] מחיקת תגובה
[ ] Validation תגובות

=== מחיקת ביקורות ===
[ ] מחיקת ביקורת בודדת (זהירות!)

=== דיווח וסטטיסטיקות ===
[ ] דוח לתקופה
[ ] דוח לפי מטפל
[ ] ייצוא נתונים

=== התראות ואוטומציה ===
[ ] התראות ביקורות ללא תגובה
[ ] התראות ביקורות נמוכות
[ ] תזכורות למטפלים

=== רספונסיביות ===
[ ] Desktop/Tablet/Mobile

=== שגיאות ===
[ ] שגיאות validation
[ ] שגיאות רשת
[ ] הרשאות חסרות

=== UI/UX ===
[ ] תצוגת דירוגים
[ ] תצוגת תגובות ארוכות

📊 ביצועים:
[ ] טעינה < 3s
[ ] חיפוש < 2s
[ ] עדכון תגובה < 2s

✅ סה"כ PASS: ___/___
❌ סה"כ FAIL: ___/___
⚠️ סה"כ WARNING: ___/___
```

## 🚨 בעיות נפוצות לחיפוש

1. **דירוגים לא מוצגים** - בעיות בCSS כוכבים
2. **תגובות לא נשמרות** - שגיאות validation
3. **מסננים לא עובדים** - שגיאות ב-query logic
4. **טעינה איטית** - יותר מדי ביקורות בעמוד
5. **סטטיסטיקות שגויות** - בעיות באגרגציה
6. **תגובות ארוכות שוברות עיצוב** - בעיות CSS

## 🎯 נקודות מיוחדות לבדיקה

1. **רגישות התוכן**: ביקורות יכולות להכיל תוכן רגיש - וודא טיפול נכון
2. **פרטיות**: וודא שרק מנהלים רואים כל הביקורות
3. **שמירת היסטוריה**: מחיקות צריכות להישמר בלוג למעקב
4. **תגובות מטעם מטפל**: וודא שברור שהתגובה היא מטעם המטפל

---
**עדכון אחרון**: 2025-01-01  
**גרסה**: 1.0 